{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\elm--\\\\elm\\\\src\\\\pages\\\\search\\\\searchContent.js\";\nimport React, { Component } from \"react\";\nimport store from \"../../store/store\";\nimport SearchConnentView from \"./searchContentView\";\nimport \"../../assets/css/search/search.css\";\nimport { getActionChange, getActionClick, getActionRemove, getActionClear, getRestaurantList } from \"./search.reducer/search.reducer\";\nimport { searchRestaurant } from \"../../service/api\";\n\nclass SearchContent extends Component {\n  constructor(props) {\n    super(props); //将store里面的数据存储在state里面\n\n    this.state = store.getState().Serach;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleStoreChange = this.handleStoreChange.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n    this.clearHistory = this.clearHistory.bind(this); //监听数据的变化\n\n    store.subscribe(this.handleStoreChange);\n  }\n\n  handleStoreChange() {\n    this.setState(store.getState());\n  } //onChange事件,可以让input 能够实时的触发\n\n\n  handleChange(e) {\n    // this.setState({\n    //     value:e.target\n    // },_=>{\n    //     console.log(value)\n    // })\n    const action = getActionChange(e.target.value); //将修改之后的action派发到store里面\n\n    store.dispatch(action);\n    console.log(e.target.value);\n\n    if (!e.target.value) {\n      console.log(100);\n    }\n  } //将value值掺入list里面\n\n\n  handleClick() {\n    const action = getActionClick();\n    store.dispatch(action);\n    console.log(this.state.Serach.value);\n    const actions = getRestaurantList(this.state.Serach.value);\n    store.dispatch(actions); // const restaurantList = searchRestaurant(this.state.Serach.value)\n    // console.log(restaurantList)\n  } //移除样式\n\n\n  handleRemove(i) {\n    //通过删除list里面的数据.删除Dom元素\n    const action = getActionRemove(i);\n    store.dispatch(action);\n  } //清除搜索历史\n\n\n  clearHistory() {\n    const action = getActionClear();\n    store.dispatch(action);\n  }\n\n  render() {\n    console.log(store.getState().Serach.list);\n    return React.createElement(SearchConnentView, {\n      value: store.getState().Serach.value,\n      list: store.getState().Serach.list,\n      restaurantList: store.getState().Serach.restaurantList,\n      emptyResult: store.getState().Serach.emptyResult,\n      clear: store.getState().Serach.clear,\n      handleChange: this.handleChange,\n      handleClick: this.handleClick,\n      handleRemove: this.handleRemove,\n      clearHistory: this.clearHistory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default SearchContent;","map":{"version":3,"sources":["C:/Users/asus/Desktop/elm--/elm/src/pages/search/searchContent.js"],"names":["React","Component","store","SearchConnentView","getActionChange","getActionClick","getActionRemove","getActionClear","getRestaurantList","searchRestaurant","SearchContent","constructor","props","state","getState","Serach","handleChange","bind","handleClick","handleStoreChange","handleRemove","clearHistory","subscribe","setState","e","action","target","value","dispatch","console","log","actions","i","render","list","restaurantList","emptyResult","clear"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\r\nimport store from \"../../store/store\"\r\nimport SearchConnentView from \"./searchContentView\";\r\nimport \"../../assets/css/search/search.css\"\r\nimport { getActionChange,getActionClick, getActionRemove,getActionClear,getRestaurantList } from \"./search.reducer/search.reducer\";\r\nimport {searchRestaurant} from \"../../service/api\"\r\nclass SearchContent extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        //将store里面的数据存储在state里面\r\n        this.state = store.getState().Serach;\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.handleStoreChange = this.handleStoreChange.bind(this)\r\n        this.handleRemove = this.handleRemove.bind(this)\r\n        this.clearHistory = this.clearHistory.bind(this)\r\n        //监听数据的变化\r\n        store.subscribe(this.handleStoreChange)\r\n\r\n    }\r\n    handleStoreChange(){\r\n        this.setState(store.getState())\r\n    }\r\n    //onChange事件,可以让input 能够实时的触发\r\n    handleChange(e){\r\n        // this.setState({\r\n        //     value:e.target\r\n        // },_=>{\r\n        //     console.log(value)\r\n        // })\r\n        \r\n        const action = getActionChange(e.target.value)\r\n        //将修改之后的action派发到store里面\r\n        store.dispatch(action)\r\n        console.log(e.target.value)\r\n        if(!e.target.value  ){\r\n            console.log(100)\r\n        }\r\n    }\r\n    //将value值掺入list里面\r\n    handleClick(){\r\n        const action = getActionClick();\r\n        store.dispatch(action)\r\n        console.log(this.state.Serach.value)\r\n        \r\n        const actions = getRestaurantList(this.state.Serach.value)\r\n        store.dispatch(actions)\r\n        // const restaurantList = searchRestaurant(this.state.Serach.value)\r\n        // console.log(restaurantList)\r\n    }\r\n    //移除样式\r\n    handleRemove(i){\r\n        //通过删除list里面的数据.删除Dom元素\r\n        const action = getActionRemove(i);\r\n        store.dispatch(action)\r\n    }\r\n    //清除搜索历史\r\n    clearHistory(){\r\n        const action = getActionClear()\r\n        store.dispatch(action)\r\n        \r\n    }\r\n    render(){\r\n        console.log( store.getState().Serach.list)\r\n        return(\r\n            <SearchConnentView\r\n            value={store.getState().Serach.value}\r\n            list={store.getState().Serach.list}\r\n            restaurantList={store.getState().Serach.restaurantList}\r\n            emptyResult={ store.getState().Serach.emptyResult}\r\n            clear={store.getState().Serach.clear}\r\n            handleChange={this.handleChange}\r\n            handleClick={this.handleClick}\r\n            handleRemove={this.handleRemove}\r\n            clearHistory={this.clearHistory}\r\n            />  \r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchContent;"]},"metadata":{},"sourceType":"module"}